<!DOCTYPE html>

<body>
  <script src="https://d3js.org/d3.v4.js"></script>
  <script>
    const alphabetFonts = {
      h: {
        width: 3,
        elts: [
          { x: 0, y: 0 },
          { x: 0, y: 1 },
          { x: 0, y: 2 },
          { x: 0, y: 3 },
          { x: 0, y: 4 },
          { x: 1, y: 2 },
          { x: 2, y: 0 },
          { x: 2, y: 1 },
          { x: 2, y: 2 },
          { x: 2, y: 3 },
          { x: 2, y: 4 },
        ]
      },
      l: {
        width: 3,
        elts: [
          { x: 0, y: 0 },
          { x: 0, y: 1 },
          { x: 0, y: 2 },
          { x: 0, y: 3 },
          { x: 0, y: 4 },
          { x: 1, y: 4 },
          { x: 2, y: 4 }
        ]
      },
      e: {
        width: 3,
        elts: [
          { x: 0, y: 0 },
          { x: 0, y: 1 },
          { x: 0, y: 2 },
          { x: 0, y: 3 },
          { x: 0, y: 4 },
          { x: 1, y: 0 },
          { x: 1, y: 2 },
          { x: 1, y: 4 },
          { x: 2, y: 0 },
          { x: 2, y: 2 },
          { x: 2, y: 4 },
        ]
      },
      w: {
        width: 5,
        elts: [
          { x: 0, y: 0 },
          { x: 0, y: 1 },
          { x: 0, y: 2 },
          { x: 0, y: 3 },
          { x: 1, y: 4 },
          { x: 2, y: 0 },
          { x: 2, y: 1 },
          { x: 2, y: 2 },
          { x: 2, y: 3 },
          { x: 3, y: 4 },
          { x: 4, y: 0 },
          { x: 4, y: 1 },
          { x: 4, y: 2 },
          { x: 4, y: 3 },
        ]
      },
      o: {
        width: 4,
        elts: [
          { x: 0, y: 1 },
          { x: 0, y: 2 },
          { x: 0, y: 3 },
          { x: 1, y: 0 },
          { x: 2, y: 0 },
          { x: 3, y: 1 },
          { x: 3, y: 2 },
          { x: 3, y: 3 },
          { x: 1, y: 4 },
          { x: 2, y: 4 },
        ]
      },
      r: {
        width: 4,
        elts: [
          { x: 0, y: 0 },
          { x: 0, y: 1 },
          { x: 0, y: 2 },
          { x: 0, y: 3 },
          { x: 0, y: 4 },

          { x: 1, y: 0 },
          { x: 1, y: 2 },
          { x: 2, y: 0 },
          { x: 2, y: 2 },
          { x: 2, y: 3 },
          { x: 3, y: 1 },
          { x: 3, y: 4 },
        ]
      },
      ex: {
        width: 1,
        elts: [
          { x: 0, y: 0 },
          { x: 0, y: 1 },
          { x: 0, y: 2 },
          { x: 0, y: 3 },
          { x: 0, y: 5 }
        ]
      },
      d: {
        width: 5,
        elts: [
          { x: 0, y: 0 },
          { x: 0, y: 1 },
          { x: 0, y: 2 },
          { x: 0, y: 3 },
          { x: 0, y: 4 },
          { x: 1, y: 0 },
          { x: 1, y: 4 },
          { x: 2, y: 0 },
          { x: 2, y: 4 },
          { x: 3, y: 1 },
          { x: 3, y: 2 },
          { x: 3, y: 3 },
        ]
      }
    }

    const text = [
      { g: "h" },
      { g: "e" },
      { g: "l" },
      { g: "l" },
      { g: "o" },

      { g: "w" },
      { g: "o" },
      { g: "r" },
      { g: "l" },
      { g: "d" },
      { g: "ex" },
    ];


    const padding = 10;
    var offset = padding;

    function drawAlphabet(font, _data) {
      const width = font.width * 10;
      const elts = font.elts;
      for (let i = 0; i < elts.length; i++) {
        const elt = elts[i];
        const obj2 = {};
        obj2.x = offset + 10 * elt.x;
        obj2.y = 10 + 10 * elt.y;
        _data.push(obj2);
      }
      offset += width + padding;
    }

    const expandData = (_data) => {
      const _expandedData = [];
      for (let i = 0; i < _data.length; i++) {
        const obj = _data[i];
        drawAlphabet(alphabetFonts[obj.g], _expandedData);
      }
      return _expandedData
    }

    const data = expandData(text);
    d3.select("body").append("svg").selectAll()
      .data(data)
      .enter().append("circle")
      .attr("r", 3)
      .attr("cx", function (d) { return d.x; })
      .attr("cy", function (d) { return d.y; })
      .style("fill", "darkblue");
  </script>